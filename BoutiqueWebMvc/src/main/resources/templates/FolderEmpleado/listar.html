<!DOCTYPE html>


<html lang="es" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head th:insert="Fragmentos/header :: tag-header">


<body class="color_fondo">


    <!-- BARRA SUPERIOR -->
    <nav th:insert="Fragmentos/barra-superior :: tag-barra-superior">
    </nav>


    <!-- Section-->
    <section class="pb-5">

        <div class="container px-4 px-lg-5 mt-5">

            <p class="text h2 texto_font_1 texto_blanco">Empleados</p>

            <form th:action="@{/empleado/listar/dni}" th:object="${buscar}" method="get" class="row-3" style="display: none;">
                <div class="input-group mb-3">

                    <input type="text" class="form-control" placeholder="Ingrese DNI..."
                        aria-label="Recipient's username" aria-describedby="button-addon2" th:field="*{dni}"
                        maxlength="8" id="textdni"
                        style="max-width: 300px;"
                        >

                    <a class="btn btn-warning" th:href="@{/empleado/listar}">
                            <i class="fa-solid fa-eraser"></i> Limpiar</a>

                    <button class="btn btn-secondary" type="submit" id="button-addon2">
                        <i class="fa-solid fa-magnifying-glass"></i> Buscar</button>


                </div>
            </form>


            <a th:href="@{/empleado/registrar}" class="btn btn-secondary mb-5">
                <i class="fa-solid fa-file-circle-plus"></i> Agregar
            </a>
            <div th:if="${msg != null}" class='alert alert-success' th:text="${msg}" role='alert'></div>

            <div th:if="${alerta_busqueda != null}" class='alert alert-danger' th:text="${alerta_busqueda}"
                role='alert'></div>

            <div class="table-responsive contendo_all_tabla">

                <table class="table table-bordered table-hover mb-0 tabla_mod_prin">
                    <thead class="table-dark tabla_head">
                        <tr>
                            <th scope="col">ID</th>
                            <th scope="col">NOMBRE</th>
                            <th scope="col">APELLIDO</th>
                            <th scope="col">DNI</th>
                            <th scope="col">CORREO</th>
                            <th scope="col">CELULAR</th>
                            <th class="text-center" scope="col">EDITAR</th>
                            <th class="text-center" scope="col">ELIMINAR</th>
                        </tr>
                    </thead>
                    <tbody>

                        <tr th:each="emp : ${listado}">
                            <td th:text="${emp.userid}"></td>
                            <td th:text="${emp.name}"></td>
                            <td th:text="${emp.lastname}"></td>
                            <td th:text="${emp.dni}"></td>
                            <td th:text="${emp.email}"></td>
                            <td th:text="${emp.movil}"></td>

                            <td class="text-center">
                                <a th:href="@{/empleado/actualizar/{id} (id=${emp.userid}) }"
                                    class="btn btn-success">
                                    <i class="fa-solid fa-file-pen"></i>
                                </a>
                            </td>

                            <td class="text-center">
                                <a th:href="@{/empleado/eliminar/{id} (id=${emp.userid}) }"
                                    onclick="return confirm('¿Estás seguro que deseas eliminar el empleado?')"
                                    class="btn btn-danger" role="button" title="Eliminar el registro.">
                                    <i class="fa-solid fa-trash-can"></i>
                                </a>
                            </td>

                    </tbody>
                </table>
            </div>




        </div>
    </section>


    <!-- CRIPT -->
    <footer th:insert="Fragmentos/js-footer :: tag-js-footer">
    </footer>


    <script th:src="@{/js/jsweb/EmpListado.js}" crossorigin="anonymous"></script>



</body>

</html>